---
layout: post
title: K8s 실전 활용을 위한 10단계 Ch.13
subtitle: ''
categories: devops
tags: k8s
comments: false
---

## 인그레스

인그레스는 k8s 클러스터 외부에서의 요청을 k8s 클러스터 내부의 애플리케이션에 연결하기 위한 API 오브젝트이다.

외부 공개용 URL과 매핑하여 인터넷에 공개하는데 사용되며 SSL/TSL 암호화나 세션 어피니티 등의 기능을 갖추고 있어 기존 웹 애플리케이션을 쿠버네티스화하는 데 유용한 오브젝트다.

## 인그레스 기능과 개요

인그레스의 대표적인 기능으로는 다음과 같다.

- 공개 URL과 애플리케이션 매핑
- 복수의 도메인 이름을 가지는 가상 호스트 기능
- 클라이언트의 요청을 여러 파드에 분산
- SSL/TLS 암호화 통신 HTTPS
- 세션 어피니티

인그레스를 이용하면 기존의 로드밸런서나 리버스 프록시를 대체할 수 있다.

인그레스 컨트롤러는 다른 컨트롤러와 달리 마스터상의 kube-controller-manager의 일부로 실행되지 않는다.

다양한 인그레스 컨트롤러가 있지만 그중에서 NGINX 인그레스 컨트롤러가 대표적이다.

퍼블릭 클라우드의 k8s 서비스는 클라우드의 기능과 인그레스를 연동하여 공인 IP 주소를 연결한다.

반면에 온프레미스에서 k8s 클러스터를 구축하는 경우에는 공인 IP 주소 (이하 VIP)를 노드 간에 공유하는 기능을 추가해야한다.

이를 위해 `kube-keepalived-vip`가 깃허브에 공개되어있다.

`kube-keepalived-vip`는 쿠버네티스의 소스 코드에는 포함되지 않지만 CNCF 쿠버네티스의 프로젝트의 깃헙에 등록되어있다.

## 작성 중

## Reference

![k8s](https://user-images.githubusercontent.com/43809168/101032998-6684c380-35bd-11eb-8ba7-a784fd46b37a.png)

### 15단계로 배우는 도커와 쿠버네티스 - 타카라 마호 저서
